<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600" width="100%" height="100%">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#38bdf8" />
    </marker>
    <marker id="arrow-red" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#f43f5e" />
    </marker>

    <g id="icon-clock" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10"></circle>
      <polyline points="12 6 12 12 16 14"></polyline>
    </g>

    <g id="icon-user" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
      <circle cx="12" cy="7" r="4"></circle>
    </g>
  </defs>
  <style>
    .bg { fill: #0f172a; rx: 16px; }
    .subgraph { fill: #1e293b; fill-opacity: 0.3; stroke: #334155; stroke-width: 2; stroke-dasharray: 6 4; rx: 12px; }
    .box { fill: #1e293b; stroke: #475569; stroke-width: 2; rx: 8px; }
    .box-ai { stroke: #a855f7; }
    .box-file { stroke: #eab308; }
    .box-ui { fill: #064e3b; stroke: #10b981; }
    .box-human { fill: rgba(244, 63, 94, 0.1); stroke: #f43f5e; stroke-dasharray: 6 4; }
    .text { font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 14px; font-weight: 600; fill: #f8fafc; text-anchor: middle; dominant-baseline: middle; }
    .text-sm { font-family: ui-sans-serif, system-ui, -apple-system, sans-serif; font-size: 12px; font-weight: 500; fill: #94a3b8; text-anchor: middle; dominant-baseline: middle; }
    .text-ai { fill: #c084fc; }
    .title { font-family: ui-sans-serif, system-ui, -apple-system, sans-serif; font-size: 16px; font-weight: 700; fill: #cbd5e1; }
    .path-anim { fill: none; stroke: #38bdf8; stroke-width: 2; stroke-dasharray: 8 6; animation: flow 1s linear infinite; marker-end: url(#arrow); }
    .path-cross { fill: none; stroke: #f43f5e; stroke-width: 3; stroke-dasharray: 8 6; animation: flow 1s linear infinite; filter: drop-shadow(0 0 4px rgba(244,63,94,0.4)); marker-end: url(#arrow-red); }
    @keyframes flow { to { stroke-dashoffset: -14; } }
  </style>

  <rect width="1000" height="600" class="bg"/>

  <rect x="30" y="40" width="450" height="370" class="subgraph"/>
  <text x="50" y="70" class="title">ethereum/pm (ACDbot)</text>

  <rect x="650" y="40" width="310" height="530" class="subgraph"/>
  <text x="670" y="70" class="title">Forkcast</text>

  <rect x="60" y="100" width="180" height="40" class="box" stroke-dasharray="4"/>
  <use href="#icon-clock" x="70" y="110" width="20" height="20" color="#38bdf8"/>
  <text x="155" y="121" class="text" fill="#38bdf8">Scheduled</text>

  <rect x="60" y="170" width="180" height="50" class="box"/>
  <text x="150" y="195" class="text">Zoom API</text>

  <rect x="60" y="250" width="180" height="50" class="box"/>
  <text x="150" y="275" class="text">Download Assets</text>

  <rect x="60" y="330" width="180" height="50" class="box box-ai"/>
  <text x="150" y="346" class="text">Generate Changelog</text>
  <text x="150" y="366" class="text-sm text-ai">LLM</text>

  <rect x="270" y="330" width="180" height="50" class="box"/>
  <text x="360" y="355" class="text">Apply Corrections</text>

  <rect x="270" y="250" width="180" height="50" class="box box-ai"/>
  <text x="360" y="266" class="text">Generate Summary</text>
  <text x="360" y="286" class="text-sm text-ai">LLM</text>

  <rect x="270" y="170" width="180" height="50" class="box"/>
  <text x="360" y="195" class="text">Generate Manifest</text>

  <path d="M 150 140 L 150 165" class="path-anim"/>
  <path d="M 150 220 L 150 245" class="path-anim"/>
  <path d="M 150 300 L 150 325" class="path-anim"/>
  <path d="M 240 355 L 265 355" class="path-anim"/>
  <path d="M 360 330 L 360 305" class="path-anim"/>
  <path d="M 360 250 L 360 225" class="path-anim"/>

  <path d="M 450 195 L 682 195" class="path-cross"/>
  <text x="555" y="175" class="text" style="fill:#fb7185;">manifest.json</text>
  <text x="555" y="215" class="text-sm" style="fill:#f43f5e;">(raw.githubusercontent.com)</text>

  <rect x="690" y="100" width="230" height="40" class="box" stroke-dasharray="4"/>
  <use href="#icon-clock" x="725" y="110" width="20" height="20" color="#38bdf8"/>
  <text x="815" y="121" class="text" fill="#38bdf8">Scheduled</text>

  <rect x="690" y="170" width="230" height="50" class="box"/>
  <text x="805" y="195" class="text">Sync Call Assets</text>

  <rect x="690" y="250" width="230" height="50" class="box box-ai"/>
  <text x="805" y="266" class="text">Extract Key Decisions</text>
  <text x="805" y="286" class="text-sm text-ai">LLM</text>

  <rect x="690" y="330" width="230" height="50" class="box box-file"/>
  <text x="805" y="347" class="text" style="fill:#fde047; font-size:13px;">protocol-calls.generated.json</text>
  <text x="805" y="365" class="text-sm" style="fill:#fef08a;">+ config.json</text>

  <rect x="690" y="410" width="230" height="50" class="box box-ui"/>
  <text x="805" y="435" class="text" style="fill:#6ee7b7; font-size:16px;">Forkcast Frontend</text>

  <rect x="690" y="490" width="230" height="50" class="box box-human"/>
  <use href="#icon-user" x="705" y="505" width="20" height="20" color="#f43f5e"/>
  <text x="810" y="506" class="text" fill="#f43f5e">Manual Alignment</text>
  <text x="810" y="526" class="text-sm" fill="#fbcfe8">(update config.json offsets)</text>

  <path d="M 805 140 L 805 165" class="path-anim"/>
  <path d="M 805 220 L 805 245" class="path-anim"/>
  <path d="M 805 300 L 805 325" class="path-anim"/>
  <path d="M 805 380 L 805 405" class="path-anim"/>

  <path d="M 805 460 L 805 482" class="path-cross"/>

  <path d="M 690 515 L 665 515 L 665 355 L 682 355" class="path-cross"/>
</svg>
