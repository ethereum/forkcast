{
  "id": 2926,
  "title": "EIP-2926: Chunk-Based Code Merkleization",
  "status": "Draft",
  "description": "Specifies a fixed-sized chunk-based Merkleization of contract code to reduce block witness sizes and enable stateless clients",
  "author": "Sina Mahmoodi (@s1na), Alex Beregszaszi (@axic), Guillaume Ballet (@gballet), Jochem Brouwer (@jochem-brouwer), Ignacio Hagopian (@jsign)",
  "type": "Standards Track",
  "category": "Core",
  "createdDate": "2020-08-25",
  "discussionLink": "https://ethereum-magicians.org/t/the-case-for-including-code-chunking-eip-2926-in-glamsterdam/25089",
  "reviewer": "expert",
  "forkRelationships": [
    {
      "forkName": "Glamsterdam",
      "status": "Declined",
      "layer": "EL",
      "champion": {
        "name": "Guillaume Ballet",
        "discord": "gballet"
      }
    }
  ],
  "laymanDescription": "Breaks smart contract bytecode into fixed-size chunks stored in a Merkle Patricia Trie, reducing network bandwidth for block proof and resource consumption for real-time proving.",
  "northStarAlignment": {
    "scaleL1": {
      "description": "Ensures real-time proving can be achieved safely with higher gas limits."
    }
  },
  "stakeholderImpacts": {
    "endUsers": {
      "description": "End users are unaffected as code transition occur at protocol layer."
    },
    "appDevs": {
      "description": "Developers need to adapt to the new gas costs model."
    },
    "walletDevs": {
      "description": "Wallet functionality remains unchanged."
    },
    "toolingInfra": {
      "description": "Infrastructure tools need updates to handle chunk-based proofs and codeRoot fields."
    },
    "layer2s": {
      "description": "Layer 2s remain unaffected."
    },
    "stakersNodes": {
      "description": "A transition period has to happen, during which  resource consumption increases slightly."
    },
    "clClients": {
      "description": "Core consensus rules remain unchanged."
    },
    "elClients": {
      "description": "Requires the implementation of code transition and the new storage format for accounts."
    }
  },
  "benefits": [
    "Reduces resource consumption for real-time provers and avoids worst case attacks.",
    "Enable stateless clients to fetch only accessed code chunks, reducing network bandwidth.",
    "Allow for the removal of the code size limit.",
    "Reduction in size for any proof containing partial code reads"
  ]
}
